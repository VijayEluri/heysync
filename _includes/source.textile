h3. Using Jetlang

{% highlight java linenos %}    
// Create our fiber
ThreadFiber fiber = new ThreadFiber();
fiber.start();

// Channel for messages to flow on
Channel<String> messages = new MemoryChannel<String>();

// Create our FieldMouse and subscribe him to the channel
final FieldMouse fieldMouse = new FieldMouse();
messages.subscribe(fiber, new Callback<String>() {
    @Override
    public void onMessage(String message) {
        fieldMouse.eatCheese(message);
    }
});

// Tell our mouse to eat cheese
messages.publish("cheddar");

fieldMouse.latch.await();
{% endhighlight %}

h3. Using heysync

{% highlight java linenos %}
// Create our fiber
ThreadFiber fiber = new ThreadFiber();
fiber.start();

// Create heysync hub
Hub hub = new Hub();

// Create our FieldMouse and add him as a receiver to our hub
FieldMouse fieldMouse = new FieldMouse();
hub.addReceiver(fieldMouse, fiber);

// Get the dispatcher for all registered Mice
Mouse dispatcher = hub.dispatcherFor(Mouse.class);

// Tell our mouse to eat cheese
dispatcher.eatCheese("cheddar");

fieldMouse.latch.await();
{% endhighlight %}