---
---
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>osi/heysync @ GitHub</title>
	<link rel="stylesheet" href="master.css" type="text/css" media="screen" charset="utf-8"/>
	
</head>

<body>
  <a href="http://github.com/osi/heysync"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  
  <div id="container">

    <h1><a href="http://github.com/osi/heysync">heysync</a></h1>

    <div class="description">
      Transparent messaging passing in Java using jetlang. heysync removes the need to write glue code for
      message passing concurrency. Using standard Java interfaces with methods that return void, heysync will
      generate the necessary glue at runtime.
    </div>

    <h2>Example</h2>
    
        <h3>Using Jetlang</h3>
    <div class="highlight"><pre><code class="java">
    <span class="lineno"> 1</span>     
    <span class="lineno"> 2</span> <span class="c1">// Create our fiber</span>
    <span class="lineno"> 3</span> <span class="n">ThreadFiber</span> <span class="n">fiber</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadFiber</span><span class="o">();</span>
    <span class="lineno"> 4</span> <span class="n">fiber</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="lineno"> 5</span> 
    <span class="lineno"> 6</span> <span class="c1">// Channel for messages to flow on</span>
    <span class="lineno"> 7</span> <span class="n">Channel</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">messages</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MemoryChannel</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
    <span class="lineno"> 8</span> 
    <span class="lineno"> 9</span> <span class="c1">// Create our FieldMouse and subscribe him to the channel</span>
    <span class="lineno">10</span> <span class="kd">final</span> <span class="n">FieldMouse</span> <span class="n">fieldMouse</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FieldMouse</span><span class="o">();</span>
    <span class="lineno">11</span> <span class="n">messages</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">fiber</span><span class="o">,</span> <span class="k">new</span> <span class="n">Callback</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="lineno">12</span>     <span class="nd">@Override</span>
    <span class="lineno">13</span>     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
    <span class="lineno">14</span>         <span class="n">fieldMouse</span><span class="o">.</span><span class="na">eatCheese</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="lineno">15</span>     <span class="o">}</span>
    <span class="lineno">16</span> <span class="o">});</span>
    <span class="lineno">17</span> 
    <span class="lineno">18</span> <span class="c1">// Tell our mouse to eat cheese</span>
    <span class="lineno">19</span> <span class="n">messages</span><span class="o">.</span><span class="na">publish</span><span class="o">(</span><span class="s">&quot;cheddar&quot;</span><span class="o">);</span>
    <span class="lineno">20</span> 
    <span class="lineno">21</span> <span class="n">fieldMouse</span><span class="o">.</span><span class="na">latch</span><span class="o">.</span><span class="na">await</span><span class="o">();</span>
    </code></pre>
    </div>

        <h3>Using heysync</h3>
    <div class="highlight"><pre><code class="java">
    <span class="lineno"> 1</span> <span class="c1">// Create our fiber</span>
    <span class="lineno"> 2</span> <span class="n">ThreadFiber</span> <span class="n">fiber</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadFiber</span><span class="o">();</span>
    <span class="lineno"> 3</span> <span class="n">fiber</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="lineno"> 4</span> 
    <span class="lineno"> 5</span> <span class="c1">// Create heysync hub</span>
    <span class="lineno"> 6</span> <span class="n">Hub</span> <span class="n">hub</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Hub</span><span class="o">();</span>
    <span class="lineno"> 7</span> 
    <span class="lineno"> 8</span> <span class="c1">// Create our FieldMouse and add him as a receiver to our hub</span>
    <span class="lineno"> 9</span> <span class="n">FieldMouse</span> <span class="n">fieldMouse</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FieldMouse</span><span class="o">();</span>
    <span class="lineno">10</span> <span class="n">hub</span><span class="o">.</span><span class="na">addReceiver</span><span class="o">(</span><span class="n">fieldMouse</span><span class="o">,</span> <span class="n">fiber</span><span class="o">);</span>
    <span class="lineno">11</span> 
    <span class="lineno">12</span> <span class="c1">// Get the dispatcher for all registered Mice</span>
    <span class="lineno">13</span> <span class="n">Mouse</span> <span class="n">dispatcher</span> <span class="o">=</span> <span class="n">hub</span><span class="o">.</span><span class="na">dispatcherFor</span><span class="o">(</span><span class="n">Mouse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="lineno">14</span> 
    <span class="lineno">15</span> <span class="c1">// Tell our mouse to eat cheese</span>
    <span class="lineno">16</span> <span class="n">dispatcher</span><span class="o">.</span><span class="na">eatCheese</span><span class="o">(</span><span class="s">&quot;cheddar&quot;</span><span class="o">);</span>
    <span class="lineno">17</span> 
    <span class="lineno">18</span> <span class="n">fieldMouse</span><span class="o">.</span><span class="na">latch</span><span class="o">.</span><span class="na">await</span><span class="o">();</span>
    </code></pre>
    </div>

    <h2>Dependencies</h2>
<p>Java 6, <a href="http://jetlang.org">Jetlang</a>, <a href="http://slf4j.org">SLF4j</a></p>
<h2>License</h2>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a></p>
<h2>Authors</h2>
<p><a href="http://fotap.org/~osi">peter royal</a>
<br/>



    <h2>Source</h2>
    <p>You can clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/osi/heysync</pre>
    </p>
      
    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/osi/heysync">osi/heysync</a>
    </div>
    
  </div>

  <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-12635341-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
